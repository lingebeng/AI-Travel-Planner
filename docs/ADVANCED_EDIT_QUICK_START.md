# 高级编辑功能快速入门

## 🚀 快速开始

### 方式 1：简单编辑（推荐新手）

```
行程详情页 → 点击"简单编辑" → 修改表单 → 保存
```

**适合修改**：
- 目的地
- 预算
- 日期
- 人数
- 行程亮点

---

### 方式 2：高级编辑（推荐高级用户）

```
行程详情页 → 点击"高级编辑" → 编辑 JSON → 保存
```

**可以修改**：
- 所有内容！
- 每日行程详情
- 景点时间安排
- 预算分配
- 住宿推荐
- 旅行贴士

---

## 📸 界面预览

### 1. 非编辑模式（查看模式）

```
┌─────────────────────────────────────────────────────────┐
│  杭州 2日游                                              │
│  📅 2025-11-10 至 2025-11-12  👥 2人  💰 ¥5,000        │
│                                                          │
│  [简单编辑]  [高级编辑]  [下载PDF]                      │
└─────────────────────────────────────────────────────────┘
```

### 2. 简单编辑模式

```
┌─────────────────────────────────────────────────────────┐
│  编辑行程                                                │
│                                                          │
│  目的地: [杭州____________]  预算: [¥ 5,000_________]   │
│  开始: [2025-11-10]  结束: [2025-11-12]  人数: [2]     │
│  行程亮点:                                               │
│  [______________________________________________]        │
│  [______________________________________________]        │
│                                                          │
│  [💾 保存修改]  [✖ 取消]  [切换到高级编辑]             │
└─────────────────────────────────────────────────────────┘
```

### 3. 高级编辑模式

```
┌─────────────────────────────────────────────────────────┐
│  高级编辑 - 直接编辑 JSON 数据                          │
│  直接编辑完整的行程数据（JSON 格式）                    │
│                                                          │
│  ┌───────────────────────────────────────────────────┐  │
│  │ {                                                 │  │
│  │   "metadata": {                                   │  │
│  │     "destination": "杭州",                        │  │
│  │     "start_date": "2025-11-10",                   │  │
│  │     "end_date": "2025-11-12",                     │  │
│  │     "budget": 5000,                               │  │
│  │     "people_count": 2                             │  │
│  │   },                                              │  │
│  │   "summary": "探索杭州的自然风光",                 │  │
│  │   "daily_itinerary": [                            │  │
│  │     {                                             │  │
│  │       "day": 1,                                   │  │
│  │       "theme": "西湖初探",                        │  │
│  │       "items": [...]                              │  │
│  │     }                                             │  │
│  │   ]                                               │  │
│  │ }                                                 │  │
│  └───────────────────────────────────────────────────┘  │
│                                                          │
│  [💾 保存]  [✖ 取消]  [📋 格式化]  [切换到简单编辑]    │
└─────────────────────────────────────────────────────────┘
```

---

## 🎓 5分钟教程

### 教程 1：修改预算（简单编辑）

1. 点击 **"简单编辑"**
2. 将预算从 5000 改为 6000
3. 点击 **"保存修改"**
4. ✅ 完成！

**用时**: < 1 分钟

---

### 教程 2：修改景点时间（高级编辑）

**目标**: 将西湖游览时间从 9:00 改为 10:00

1. 点击 **"高级编辑"**

2. 找到这段代码：
   ```json
   "daily_itinerary": [
     {
       "day": 1,
       "items": [
         {
           "time": "09:00",  ← 找到这里
           "title": "西湖"
         }
       ]
     }
   ]
   ```

3. 修改：
   ```json
   "time": "10:00",  ← 改成 10:00
   ```

4. 点击 **"格式化 JSON"** 验证格式

5. 点击 **"保存修改"**

6. ✅ 完成！

**用时**: < 2 分钟

---

### 教程 3：添加新景点（高级编辑）

**目标**: 在第一天下午添加"雷峰塔"

1. 点击 **"高级编辑"**

2. 找到第一天的 `items` 数组：
   ```json
   "items": [
     { "time": "09:00", "title": "西湖" },
     { "time": "12:00", "title": "楼外楼" }
     ← 在这里添加
   ]
   ```

3. 添加新景点（注意加逗号）：
   ```json
   "items": [
     { "time": "09:00", "title": "西湖" },
     { "time": "12:00", "title": "楼外楼" },
     {
       "time": "15:00",
       "duration": "1.5小时",
       "type": "attraction",
       "title": "雷峰塔",
       "description": "登塔俯瞰西湖全景",
       "location": "南山路15号",
       "estimated_cost": 40
     }
   ]
   ```

4. 点击 **"格式化 JSON"** 检查格式

5. 点击 **"保存修改"**

6. ✅ 完成！

**用时**: < 3 分钟

---

## ❓ 常见问题

### Q1: 保存时提示"JSON 格式错误"怎么办？

**A**: 常见原因：
1. 忘记加引号：`destination: 杭州` → `"destination": "杭州"`
2. 多余的逗号：最后一个字段后不要加逗号
3. 引号不匹配：确保都用双引号 `""`

**解决方法**：
- 点击 **"格式化 JSON"** 按钮
- 如果能格式化成功，说明格式正确
- 如果失败，会提示具体错误位置

---

### Q2: 修改后页面显示不正常？

**A**: 检查是否删除了必填字段：
- `metadata` 对象必须存在
- `destination`、`start_date`、`end_date`、`budget`、`people_count` 不能删除

---

### Q3: 能否撤销修改？

**A**: 可以！
- 点击 **"取消"** 按钮
- 或者刷新页面（如果还没保存）

---

### Q4: 简单编辑和高级编辑有什么区别？

**A**:
| 特性 | 简单编辑 | 高级编辑 |
|------|----------|----------|
| 难度 | ⭐ 简单 | ⭐⭐⭐ 较难 |
| 功能 | 基本信息 | 所有内容 |
| 适合 | 所有人 | 熟悉 JSON |
| 风险 | 低 | 中等 |

---

### Q5: 切换模式会丢失数据吗？

**A**: 不会！
- 切换模式不会丢失任何数据
- 但建议先保存再切换

---

## 💡 专业提示

### 提示 1：使用代码编辑器
如果要做大量修改，可以：
1. 复制 JSON 到 VS Code 等编辑器
2. 在编辑器中修改（有语法高亮和验证）
3. 复制回来粘贴
4. 保存

### 提示 2：保留备份
修改前：
1. 点击 **"下载 PDF"** 保存备份
2. 或复制 JSON 到文本文件

### 提示 3：逐步验证
每修改一部分：
1. 点击 **"格式化 JSON"**
2. 确认没错误
3. 继续修改

### 提示 4：参考示例
查看文档中的完整 JSON 结构示例：
- `docs/ADVANCED_EDIT_FEATURE.md`

---

## 🎯 下一步

- 尝试简单编辑功能
- 熟悉后尝试高级编辑
- 查看完整文档了解更多细节

**相关文档**：
- 📘 [高级编辑功能详细说明](ADVANCED_EDIT_FEATURE.md)
- 📘 [行程管理完整修复总结](COMPLETE_ITINERARY_MANAGEMENT_FIX.md)

---

**快速帮助**：
- 有问题？查看常见问题
- 需要示例？查看教程
- 想深入了解？阅读完整文档

祝您使用愉快！ 🎉
